<--------------------------install express-generator and npm module----------------------->

npm install -g npm 
npx express-generatorÂ --hbs
npm init
npm i 
<!---------------->





<!-----------image-display--------->

app.use(express.static('public'));

<img src="/images/image.jpg">

<!---->

<--------------------array value------------------------->
in <---js-->

router.get('/', function(req, res, next) {
  const values=["binshul","binshulvilla","trader"]
  res.render('about',{values});
});

<!--hbs-->

<h3>welcome to out</h3>

{{#each values}}
<h4>{{this}}</h4>       <!---this curentitem--->
 {{/each}}

<---->


<!--another_one---->
<h3>welcome to out</h3>
{{#each values}}
<h4>{{@index}}-{{this}}</h4>       <!--this curentitem-->
 {{/each}}

{{@index}} used for se array locations

ouput:welcome to out
0-binshul
1-binshulvilla
2-trader

<!------display--3-->
index.js

router.get('/', function(req, res, next) {
 const user={name:'binshul',address:'villa',gender:'male'}
  res.render('index',{user});  
});

index.hbs
<li>name:{{user.name}}</li>
<li>address:{{user.address}}</li>
<li>gender:{{user.gender}}</li>

output:
     name:binshul
    address:villa
    gender:male

<!--------------------ADD 5 data------>
const five=[{name:'binshul',address:'villa',    gender:'male'},
              {name:'rahul',  address:'rahulvilla',gender:'male'},
              {name:'adi',    address:'adivilla',  gender:'male'},
              {name:'robert', address:'robvilla',  gender:'male'},
              {name:'parag',  address:'paragvilla',gender:'male'}]

              res.render('about',{five});                                                                                    //only one render add

});
<---------------------display_in_table_format-------------------->
<!---hbs--->

<table border="2">
     <tr>
    <th>name</th>
    <th>address</th>
    <th>gender</th>
  </tr>
  {{#each five}}
<tr>

    <td>{{this.name}}</td>
    <td>{{this.address}}</td>
    <td>{{this.gender}}</td>
  </tr>
  {{/each}}
  </table>

<!---js--->

router.get('/', function(req, res, next) {
  const five=[{ name:'binshul',address:'villa',gender:'male'},
             {name:'rahul',address:'rahul villa',gender:'male'},
             {name:'rahul2',address:'2rahul villa',gender:'male'},
             {name:'rahul3',address:'3rahul villa',gender:'male'},
             {name:'rahul4',address:'4rahul villa',gender:'male'}]

  res.render('index',{five});  
});

output:

name	address	gender
binshul	villa	male
rahul	rahul villa	male
rahul2	2rahul villa	male
rahul3	3rahul villa	male
rahul4	4rahul villa	male


(each give inside the call athoer way get more heading )


<!---------------displaytwo--------------------->


const person={name:"binshul",comments:{comment:' water is a liquid',date:'01:8:23'}}
   res.render('about',{user,values,five,person});   

<----->
<h3>{{person.name}}</h3>
<h3>{{person.comments.comment}}</h3>
<!------------------------------------------->


<!-------------------welcome----this_is_admin--------------------->

 const welcome={ name:"binshul",admin:true}
   res.render('about',{user,values,five,person,welcome});


{{#if welcome.admin}}
<h1>this is admin</h1>
{{else}}
<h1>this is normal user</h1>
{{/if}}

output:this is admin

(if true in js put false it show =this is not normal user)

(example below====)

<!--------------------register if home page diaplay no then registration page home  name contact email password----->
 
 {{#if login.admin}}

<div class="row">
<div class="col-4">
    <div class="card">
        <img src="images\0x0.webp" alt="" class="card-img-top">
        <div class="body">
            <h3> for sale</h3>
            <h4 class="text-center">Granny market</h4>
        </div>
    </div>
</div>
<div class="col-4">
    <div class="card">
        <img src="images\hevy6dvk7gien0rmg37n.webp" alt="" class="card-img-top">
        <div class="body">
            <h3> for sale</h3>
            <h4 class="text-center">Granny market</h4>
        </div>
    </div>
</div>
<div class="col-4">
    <div class="card">
        <img src="images\download.jpeg" alt="" class="card-img-top">
        <div class="body">
            <h3> for sale</h3>
            <h4 class="text-center">Granny market</h4>
        </div>
    </div>
</div>
</div> <br>

{{else}}
 <div class="container w-50"><br>
<form action="" method="post" class="form-control">
<input type="text" class="form-control" name="name" placeholder="name"><br>
<input type="text" class="form-control" name="contact" placeholder="contact"><br>
<input type="email" class="form-control" name="email" placeholder="email"> <br>
<input type="password" class="form-control" name="email" placeholder="passwod"> <br>
<input class="btn btn-danger" type="submit">
</div>
</form>
{{/if}}

<!--about.js il chaytu--->

const login={name:"dhanshul",admin:false}
   res.render('login2',{user,values,five,person,welcome,login});  

<!--------------------------------------------------------------------------------Array--close------------------------------------------------------->


<!-------------------------------------------------------------database connext---------------------------------------------------------------------->


(npm install mysql
outside the frame install.js / then create in datbase new file manually)

    var mysql = require('mysql');
    var con = mysql.createConnection({
      host: "127.0.0.1",
      user: "root",
      password: "",
      database:"express"
    });
    con.connect(function(err){
      if (err) throw err;
      console.log("Connected!");
    });


<!----------------->
(1) frist user page create login  add action also 

    userlogin.hbs

<div class="container w-50">
 <form  method="post" class="form-control" action="/action">
    <input type="text" name="productcategory" placeholder="productcategory" class="form-control"> <br>
    <input type="text" name="productname" placeholder="productname" class="form-control"> <br>
    <input type="text" name="productamount" placeholder="productamount" class="form-control"> <br>
    <textarea name="productdetails" placeholder="productdetails" class="form-control" ></textarea> <br>
    <input type="submit" class="btn btn-danger">
 </form>
</div>

(2)js connect 

       inedx.js

router.get('/userlogin', function(req, res, next) {
  res.render('userlogin');
});

//////action in app.js//////

app.use('/action', indexRouter);

(3)data base create manually and new file db.js and connect insert tables /install npm mysql

<-----------just for information--------------->

database addin db

module.exports=connection;

var db=require('../db'); add in js 

then add in action html 
parser call in app bodyparser install

<-------------------------->

(4) new page database connect

db.js

var mysql = require('mysql');
var con = mysql.createConnection({
  host: "127.0.0.1",
  user: "root",
  password: "",
  database:"study"
});
con.connect(function(err){
  if (err) throw err;
  console.log("Connected!");
});
module.exports=con


(5)in the top of the js 

 ar db=require('../db'); add in js 

6) parser install and call in app,js  then  assign action in hbs page
    
var bodyParser = require('body-parser');

app.use(bodyParser());

////then  assign action in hbs page/////

   index.js

router.post('/action',function(req,res)
{
  var productcategory=req.body.productcategory
  var productname=req.body.productname
  var productamount=req.body.productamount
  var productdetails=req.body.productdetails
  var sql=`insert into userlogin(productcategory,productname,	productamount,productdetails) values("${productcategory}","${productname}","${	productamount}","${productdetails}")`;
db.query(sql,function(err,result){
  if(err) throw err;
  res.redirect('/userlogin');
})

})



(7) then show output insert

(8) then add new hbs page for view in page db details

    userview.hbs

<div class="container-fluid w-50">
    <table border="1" class="mt-3" >
        <tr>
            <th>productcategory</th>
            <th>productname</th>
            <th>productamount</th>
            <th>productdetails</th>
        </tr>
        {{#each data}}
        <tr>
            <td>{{this.productcategory}}</td>
            <td>{{this.productname}}</td>
            <td>{{this.productamount}}</td>
            <td>{{this.productdetails}}</td>
           <td><a href="edit"class="btn btn-success">edit</a></td> 
           <td><a href="delete"class="btn btn-danger">delete</a></td> 
        </tr>
            {{/each}}
    </table>

</div>

(9) to selet from database and and show it in userpage

     index.js

router.get('/userview', function(req, res, next) {
  var sql='select * from userlogin';
  db.query(sql,function(err,rows,fields){
    if (err) throw err;
  res.render('userview',{data:rows});
});
});




<!-----------------------------------------------------------------user viewing db_table to page------------------------------------->
///////userview///

router.get('/userpro', function(req, res, next) { 
  var sql='select * from product';
  db.query(sql,function(err,rows,fields){
  if (err) throw err;
  res.render('userpro',{data:rows})
})
});


<------hbs----->

<div class="container-fluid"  >
<table border="1" class="mt-3">
     <tr>
    <th>product_category</th>
    <th>product_name</th>
    <th>product_amount</th>
    <th>product_details</th>
  </tr>
   {{#each data}}
<tr>
    <td>{{this.product_category}}</td>
    <td>{{this.product_name}}</td>
    <td>{{this.product_amount}}</td>
    <td>{{this.product_details}}</td>
     <td><a class="btn btn-success" href="edit"> edit</a></td>
    <td><a  class="btn btn-danger" href="delete">delete</a></td>
  </tr>
  {{/each}}
  </table>
  </div>

( userpro is page / select * from (database name )/ render(samepage))


<!------------------------------------------------------------------------------------------------------------------------------------->
